var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequire1827;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var c={id:e,exports:{}};return t[e]=c,n.call(c.exports,c,c.exports),c.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequire1827=n);const c=new(0,(i=n("hY6V0")).RequestServer);var r;!async function(){try{const e=await c.trendingDay();console.log(e)}catch(e){console.error(e)}}(),"function"!=typeof(r=window.Element.prototype).matches&&(r.matches=r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),"function"!=typeof r.closest&&(r.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),o=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+o+'"]').classList.add("active"),t.classList.add("active")}))})),o.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}));const s=document.getElementById("toggel-btn"),a=document.getElementById("toggel-svg");s.addEventListener("click",(()=>{document.body.classList.contains("light")?(document.body.classList.remove("light"),a.use="./svg/symbol-defs.svg#icon-sun",localStorage.theme="dark"):(document.body.classList.add("light"),a.use="./svg/symbol-defs.svg#icon-moon",localStorage.theme="light")})),"light"===localStorage.theme&&(document.body.classList.add("light"),a.use="./svg/symbol-defs.svg#icon-moon"),(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),o=document.querySelector(".js-close-menu");function n(){e.classList.toggle("visually-hidden")}t.addEventListener("click",n),o.addEventListener("click",n)})(),n("eEHR3");var i=n("hY6V0"),l=n("3huUq"),d=n("7o4ng");const u={weeklyCard:document.querySelector(".card")},m=new(0,i.RequestServer);!async function(){try{await(0,d.requestGenre)();const e=await m.trendingWeek(),{results:t}=e.data,o=(0,l.markup)(t.slice(0,3));u.weeklyCard.innerHTML=o}catch(e){console.log(e)}}();i=n("hY6V0");const g=document.querySelector("#upcoming-loading-message"),v=document.querySelector("#upcoming-no-data-message"),y=document.querySelector("#upcoming-error-message"),p=document.querySelector("#upcoming-movie"),f=new(0,i.RequestServer),h=async e=>{const t=e.data.results,o=t.length;if(!o)return S(),void q();const n=t[Math.round(Math.random()*(o-1))];T(n.original_title),D(n.backdrop_path),b(n.release_date),k(n.vote_average,n.vote_count),E(n.popularity),await _(n),x(n.overview)},S=()=>g.classList.add("upcoming__status-message--hidden"),q=()=>v.classList.remove("upcoming__status-message--hidden"),L=()=>y.classList.remove("upcoming__status-message--hidden"),w=()=>{p.classList.remove("upcoming__movie--hidden")},b=e=>{const t=document.querySelector("#upcoming-movie-release-date"),o=new Date(e).toLocaleDateString().replace(/\//g,".");t.innerText=o},k=(e,t)=>{const o=document.querySelector("#upcoming-vote-average"),n=document.querySelector("#upcoming-vote-count");o.innerText=e,n.innerText=t},E=e=>{document.querySelector("#upcoming-movie-popularity").innerText=e.toFixed(1)},_=async e=>{const t=document.querySelector("#upcoming-movie-genre"),o=await f.movieGenre(),n=(o?e.genre_ids.map((e=>o.data.genres.find((t=>t.id===e)))):[]).map((e=>e.name)).join(", ");t.innerText=n||"-"},x=e=>{document.querySelector("#upcoming-movie-about").innerText=e},T=e=>{document.querySelector("#upcoming-movie-title").innerText=e},D=async e=>{document.querySelector("#upcoming-movie-backdrop").src=`https://image.tmdb.org/t/p/original${e}`};(async()=>{try{const e=await f.newFilms();await h(e),S(),w()}catch(e){console.error(e),S(),L()}})();
//# sourceMappingURL=index.cecdc515.js.map
