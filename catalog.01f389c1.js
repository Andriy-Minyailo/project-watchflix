!function(){function e(e){return e&&e.__esModule?e.default:e}var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},c={},r=n.parcelRequire1827;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in c){var t=c[e];delete c[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){c[e]=t},n.parcelRequire1827=r),"function"!=typeof(t=window.Element.prototype).matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),o=0;n[o]&&n[o]!==t;)++o;return Boolean(n[o])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),n=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+n+'"]').classList.add("active"),t.classList.add("active")}))})),n.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}));var a=document.getElementById("toggel-btn"),s=document.getElementById("toggel-svg");a.addEventListener("click",(function(){document.body.classList.contains("light")?(document.body.classList.remove("light"),s.use="./svg/symbol-defs.svg#icon-sun",localStorage.theme="dark"):(document.body.classList.add("light"),s.use="./svg/symbol-defs.svg#icon-moon",localStorage.theme="light")})),"light"===localStorage.theme&&(document.body.classList.add("light"),s.use="./svg/symbol-defs.svg#icon-moon");var i,l=r("bpxeT"),d=r("2TvXO"),u=r("cFGTe"),v=(l=r("bpxeT"),d=r("2TvXO"),new(0,(u=r("cFGTe")).RequestServer));function m(){return f.apply(this,arguments)}function f(){return(f=e(l)(e(d).mark((function t(){var n,o;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.movieGenre();case 3:n=e.sent,o=n.data.genres,i=o.reduce((function(e,t){var n=t.id,o=t.name;return e[n]=o,e}),{}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function p(e){return e.map((function(e){var t,n=e.poster_path,o=e.original_title,c=void 0===o?"":o,r=e.genre_ids,a=e.overview,s=void 0===a?"":a,l=e.release_date,d=void 0===l?"":l,u=e.vote_average,v=void 0===u?"":u,m=e.id;t=d?d.substring(0,4):"no date";var f="https://image.tmdb.org/t/p/w500".concat(n);n||(f="https://picsum.photos/500/750");var p,g,h=v.toFixed(1);return'<li class="card__item list" id="'.concat(m,"\">\n            <img src='").concat(f,'\' loading="lazy" alt="').concat(s,'" class="card__img" />\n            <div class="container-info">\n            <h2 class="card__title">').concat(c,'</h2>\n            <p class="card__desc">').concat((p=r,g=p.map((function(e){return i[e]})),g.length>2?g.splice(2):0===g.length&&g.push("no genres"),g).join(", ")," | ").concat(t,'</p>\n            <p class="card__rating">').concat(h,"</p>\n            </div>\n            </li>")})).join("")}var g={cardContainer:document.querySelector(".card")},h=new(0,u.RequestServer);function y(){return(y=e(l)(e(d).mark((function t(){var n,o,c;return e(d).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:return e.sent,e.next=6,h.trendingWeek();case 6:n=e.sent,o=n.data.results,c=p(o),g.cardContainer.innerHTML=c,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){y.apply(this,arguments)}(),r("gVa74")}();
//# sourceMappingURL=catalog.01f389c1.js.map
