!function(){function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=o.parcelRequire1827;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},o.parcelRequire1827=i),i.register("5xtVg",(function(e,t){var o;"function"!=typeof(o=window.Element.prototype).matches&&(o.matches=o.msMatchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),"function"!=typeof o.closest&&(o.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),o=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+o+'"]').classList.add("active"),t.classList.add("active")}))})),o.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}))})),i.register("3VTKu",(function(e,t){var o=document.querySelector(".switcher"),n=localStorage.getItem("isLight");"true"===n&&document.body.classList.add("light"),o.onclick=function(){document.body.classList.toggle("light"),n=document.body.classList.contains("light"),localStorage.setItem("isLight",n)};var r=window.location.href;document.querySelectorAll(".header__nav-link, .mobile-menu__link").forEach((function(e){e.href===r&&e.classList.add("link__current")}))})),i.register("UL92Z",(function(t,o){e(t.exports,"KEY_MOVIE_LIST",(function(){return n})),e(t.exports,"loadMoveList",(function(){return r})),e(t.exports,"getMovieList",(function(){return c})),e(t.exports,"saveMovieList",(function(){return i}));var n="movieList";function r(e){var t=c(n);console.log(t),t?(t.push(e),i(n,t)):i(n,[e])}function i(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}function c(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.log(e)}}})),i.register("cPtET",(function(t,o){e(t.exports,"checkLocalStorage",(function(){return d}));var n,r=i("UL92Z"),c=(r=i("UL92Z"),i("c2zg9")),a=i("g6bES"),s=i("50r4O"),l={movieContainer:document.querySelector(".card"),moviBase:document.querySelector("#localBase"),loadMoreButton:document.querySelector(".load-more")},u=new(0,s.LoadMoreButton)({isHiden:!0,active:!1,buttonAdress:l.loadMoreButton});function d(e){var t=(0,r.getMovieList)(e);if(console.log(t),l.moviBase)if(void 0!==t){n=t.length;var o=t.slice(0,12);n>12?u.buttonState({isHiden:!1,active:!0}):u.buttonState({isHiden:!0,active:!1}),l.moviBase.innerHTML="",l.movieContainer.innerHTML=(0,a.markupLocal)(o)}else l.movieContainer.innerHTML="",l.moviBase.innerHTML=c.baseLocalMarkup}d(r.KEY_MOVIE_LIST),u.active&&l.loadMoreButton.addEventListener("click",(function e(){var t=(0,r.getMovieList)(r.KEY_MOVIE_LIST),o=12,i=24,c=t.slice(o,i);l.movieContainer.insertAdjacentHTML("beforeend",(0,a.markupLocal)(c)),o+=12,i+=12,n-=12,console.log(n),n<12&&(u.buttonState({isHiden:!0,active:!1}),l.loadMoreButton.removeEventListener("click",e))}))})),i.register("c2zg9",(function(t,o){e(t.exports,"baseLocalMarkup",(function(){return n}));var n='<div class="not-found__container">\n      <div class="not-found__text">\n        <ul class="not-found__text-ul">\n          <li class="not-found__text-li">OOPS...</li>\n          <li class="not-found__text-li">We are very sorry!</li>\n          <li class="not-found__text-li">\n            You don’t have any movies at your library.\n          </li>\n        </ul>\n      </div>\n      <button class="search-movie-btn" id="search-movie-btn">\n        <a href="./catalog.html" class="search-movie-btn__text">Search movie</a>\n      </button>\n    </div>'})),i.register("g6bES",(function(t,o){function n(e){return e.map((function(e){return'<li class="card__item list" id="'.concat(e.id,'">').concat(e.str,"</li>")})).join("")}e(t.exports,"markupLocal",(function(){return n}))})),i.register("50r4O",(function(o,n){e(o.exports,"LoadMoreButton",(function(){return a}));var r=i("8MBJY"),c=i("a2hTj"),a=function(){"use strict";function e(o){var n=o.isHiden,i=o.active,c=o.buttonAdress;t(r)(this,e),this.isHiden=n,this.active=i,this.buttonAdress=c}return t(c)(e,[{key:"buttonState",value:function(e){var t=e.isHiden,o=void 0===t?this.isHiden:t,n=e.active,r=void 0===n?this.active:n;o?this.buttonAdress.classList.add("visually-hidden"):this.buttonAdress.classList.remove("visually-hidden"),this.active=!!r}}]),e}()})),i.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),i.register("a2hTj",(function(e,t){"use strict";function o(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t&&o(e.prototype,t);n&&o(e,n);return e}})),i.register("cbP8w",(function(e,t){i("UL92Z"),i("UL92Z"),i("UL92Z"),i("UL92Z"),i("cPtET"),document.querySelector(".card"),document.querySelector("#modalCardInfo"),document.querySelector("#btnModalInfo")}))}();
//# sourceMappingURL=myLibrary.f9a94300.js.map
