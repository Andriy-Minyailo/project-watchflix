{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/hero.js","src/js/markupHero.js","node_modules/@parcel/runtime-js/lib/runtime-ef4039c48cfcc780.js","src/js/modalTrailer.js","src/js/loaderSpinner.js","src/js/markup.js","src/js/nameGenres.js","node_modules/@parcel/runtime-js/lib/runtime-8ad4549be00fe787.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { RequestServer } from './requestServer';\nimport { markupHero } from './markupHero';\nimport { applyWatchTraileListener } from './modalTrailer';\n\nconst ref = {\n  hero: document.getElementById('hero'),\n};\n\nconst requestServer = new RequestServer();\n\nasync function ontrendingDay() {\n  try {\n    const responseDay = await requestServer.trendingDay();\n    const { results } = responseDay.data;\n\n    const filmOfDay = results;\n    const markupBackgr = markupHero(filmOfDay);\n\n    ref.hero.innerHTML = markupBackgr;\n    applyWatchTraileListener();\n\n    const discription = document.querySelector('.hero__discription');\n    const heroTitle = document.querySelector('.hero__title');\n    const heroText = document.querySelector('.hero__text');\n\n    let LightSwitcher = document.querySelector('.switcher');\n    let isLight = localStorage.getItem('isLight');\n    \n    if (isLight === 'true') {\n      discription.classList.add('hero__discription-light');\n      heroTitle.classList.add('hero__title-light');\n      heroText.classList.add('hero__text-light');\n    };\n\n    LightSwitcher.addEventListener('click', () => {\n      discription.classList.toggle('hero__discription-light');\n      heroTitle.classList.toggle('hero__title-light');\n      heroText.classList.toggle('hero__text-light');\n    })    \n\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nontrendingDay();","import desktop from '../img/upgrade/desktop.jpg';\n\nexport function markupHero(results) {\n  let result = results[Math.round(Math.random() * (results.length - 1))];\n  let path = '';\n  \n  if (!result) {\n    result = { original_title: 'Letâ€™s Make Your Own Cinema',\n      overview: `Is a guide to creating a personalized movie theater experience. \n        You'll need a projector, screen, and speakers. Decorate your space, choose your \n        films, and stock up on snacks for the full experience.`,\n      vote_average: '',\n      id: ''\n    };\n    path = desktop;\n  }\n\n  const { backdrop_path,\n\n    original_title = '',\n    overview = '',\n    vote_average = '',\n    id } = result;\n  \n  path = `https://image.tmdb.org/t/p/original${backdrop_path}`;      \n  let rating = '';\n          for (let i = 1; i <= 5; i++) {\n            let ratingClass = 'fa-star-o';\n            if (i * 2 <= vote_average) {\n              ratingClass = 'fa-star';\n            } else if (i * 2 - 1 <= vote_average) {\n              ratingClass = 'fa-star-half-o';\n            }\n            rating += `<span class=\"fa star ${ratingClass}\"> </span>`;\n          }\n        return `<div class=\"hero__discription\">\n\n            <h2 class=\"hero__title\">${original_title}</h2>\n            <p class=\"hero__rating\">${rating}</p>\n            <p class=\"hero__text\">${overview}</p>\n            <button id=\"watch-trailter__btn\" class=\"hero__btn watch-trailer \" data-id=\"${id}\" type=\"button\">Watch trailer</button>\n            </div>\n            <div class=\"hero__backgr\" id=\"${id}\">\n            <img src='${path}' loading=\"lazy\" alt=\"${overview}\" class=\"hero__img\" />\n            </div>`;\n}\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9t7bk\")).toString();","import { RequestServer } from './requestServer';\nimport { modalListener } from './modals-open-close';\nimport Loader from './loaderSpinner';\n\nconst ref = {\n  modal: document.querySelector(`[data-modal=\"modal-2\"]`),\n};\nconst requestServer = new RequestServer();\n\nasync function handleTrailerClick(e) {\n  modalListener('modal-2', onModalTrailerClose);\n  const loaderWrapper = document.getElementsByClassName('loader-wrapper')[0];\n  const noTrailerWrapper =\n    document.getElementsByClassName('modal-no-trailer')[0];\n  const trailerWrapper = document.getElementsByClassName('modal-trailer')[0];\n  const loader = new Loader(loaderWrapper);\n\n  noTrailerWrapper.classList.add('hidden');\n  loader.show();\n\n  try {\n    const movieId = e.currentTarget.getAttribute('data-id');\n    const response = await requestServer.movieTrailer(movieId);\n    const { results } = response.data;\n    const trailer = results[0];\n\n    if (trailer) {\n      let html = `<iframe id=\"trailer-video-player\" width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/${trailer.key}\" title=\"${trailer.name}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen></iframe>`;\n      trailerWrapper.innerHTML = html;\n\n      setTimeout(() => {\n        loader.hide();\n        trailerWrapper.classList.remove('hidden');\n      }, 1000);\n    } else {\n      loader.hide();\n      noTrailerWrapper.classList.remove('hidden');\n      trailerWrapper.classList.add('hidden');\n    }\n\n    const trailerModal = document.querySelector('.modal-trailer');\n    let LightSwitcher = document.querySelector('.switcher');\n    let isLight = localStorage.getItem('isLight');\n    if (isLight === 'true') {\n      trailerModal.classList.add('modal-trailer-light');\n    }\n    LightSwitcher.addEventListener('click', () => {\n      trailerModal.classList.toggle('modal-trailer-light');\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction onModalTrailerClose() {\n  const trailerWrapper = document.getElementsByClassName('modal-trailer')[0];\n  const noTrailerWrapper =\n    document.getElementsByClassName('modal-no-trailer')[0];\n  trailerWrapper.innerHTML = '';\n  noTrailerWrapper?.classList.remove('hidden');\n  trailerWrapper?.classList.add('hidden');\n}\n\nexport function applyWatchTraileListener() {\n  const button = document.getElementById('watch-trailter__btn');\n  button.addEventListener('click', handleTrailerClick);\n}\n","export default class Loader {\n  constructor(element) {\n    this.element = element;\n    this.init();\n  }\n\n  init = () => {\n    this.hide();\n    this.element.innerHTML = this.getLoader();\n  };\n\n  getLoader = () => {\n    return '<div class=\"load-align\"><div class=\"film\"><span></span><span></span><span></span><span></span></div><div class=\"film\"><span></span><span></span><span></span><span></span></div></div>\t';\n  };\n\n  show = () => {\n    this.element.classList.remove('hidden');\n  };\n\n  hide = () => {\n    this.element.classList.add('hidden');\n  };\n}\n","import { nameGenres } from './nameGenres';\n\nexport function markup(results) {\n \n  const markupCard = results.map(\n      ({\n        poster_path,\n        original_title = '',\n        genre_ids,\n        overview = '',\n        release_date = '',\n        vote_average = '',\n        id\n      }) => {\n        let releaseDate;\n        if (!release_date) {\n          releaseDate = 'no date';\n        } else {\n          releaseDate = release_date.substring(0, 4);\n        }\n        let path = `https://image.tmdb.org/t/p/w500${poster_path}`;\n        if (!poster_path) {\n          path = 'https://picsum.photos/500/750';\n      }\n       let rating = '';\n          for (let i = 1; i <= 5; i++) {\n            let ratingClass = 'fa-star-o';\n            if (i * 2 <= vote_average) {\n              ratingClass = 'fa-star';\n            } else if (i * 2 - 1 <= vote_average) {\n              ratingClass = 'fa-star-half-o';\n            }\n            rating += `<span class=\"fa star ${ratingClass}\"> </span>`;\n          }\n      // let rating = vote_average.toFixed(1);\n        return `<li class=\"card__item list\" id=\"${id}\">\n            <img src='${path}' loading=\"lazy\" alt=\"${overview}\" class=\"card__img\" />\n            <div class=\"container-info\" data-modal-open=\"modal-1\">\n            <h2 class=\"card__title\">${original_title}</h2>\n            <p class=\"card__desc\">${nameGenres(genre_ids).join(', ')} | ${releaseDate}</p>\n            <p class=\"card__rating\">${rating}</p>\n            </div>\n            </li>`;\n      }\n    )\n    .join('');\n\n  return markupCard;\n}        ","import { RequestServer } from \"./requestServer\";\nconst requestServer = new RequestServer();\nlet genresList;\n\nexport async function requestGenre() {\n      try {\n        const responsGenre = await requestServer.movieGenre();\n        const { genres } = responsGenre.data;\n        genresList = genres.reduce((acc, { id, name }) => {\n    acc[id] = name;\n    return acc;\n  }, {});\n    } catch(error) {\n    console.log(error);\n  };\n}\n// requestGenre();\n\nexport function nameGenres(arrayId) {\n     const result = arrayId.map(id => genresList[id]);\n        if (result.length > 2) {\n    result.splice(2);\n    } else if (result.length === 0) {\n    result.push(\"no genres\")\n    }\n    \n  return result\n\n}\n\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"co8kk\\\":\\\"index.567ead23.js\\\",\\\"9t7bk\\\":\\\"desktop.a15d7519.jpg\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$hY6V0","parcelRequire","$aab6d1c60b3e9a0a$var$ref","hero","document","getElementById","$aab6d1c60b3e9a0a$var$requestServer","RequestServer","async","responseDay","trendingDay","results","data","filmOfDay","markupBackgr","$eK0aa","markupHero","innerHTML","$OcCik","applyWatchTraileListener","discription","querySelector","heroTitle","heroText","LightSwitcher","localStorage","getItem","classList","add","addEventListener","toggle","error","console","log","$aab6d1c60b3e9a0a$var$ontrendingDay","$i4WMq","$abb57cf18fb101b4$export$66403316bf9d94e9","result","Math","round","random","path","original_title","overview","vote_average","$parcel$interopDefault","backdrop_path","rating","ratingClass","module","exports","URL","resolve","import","meta","url","toString","$096e75081bc23d6e$var$requestServer","$096e75081bc23d6e$var$handleTrailerClick","e","$6pZM0","modalListener","$096e75081bc23d6e$var$onModalTrailerClose","loaderWrapper","getElementsByClassName","noTrailerWrapper","trailerWrapper","loader","$cpBoX","default","show","movieId","currentTarget","getAttribute","response","movieTrailer","trailer","html","key","name","setTimeout","hide","remove","trailerModal","$096e75081bc23d6e$export$3f3e4bf216f4b41","$9094d4fe06bba34e$export$2e2bcd8739ae039","constructor","element","this","init","getLoader","$7o4ng","$263aef85a4d00bfb$export$7b40ce885114f0a6","map","poster_path","genre_ids","release_date","releaseDate","substring","nameGenres","join","$560e2aeea8f3a81d$var$requestServer","$560e2aeea8f3a81d$var$genresList","$560e2aeea8f3a81d$export$77e97b00fc29ddbb","responsGenre","movieGenre","genres","reduce","acc","$560e2aeea8f3a81d$export$8d9bc7c52d01b11","arrayId","splice","push","register","JSON","parse"],"version":3,"file":"index.567ead23.js.map"}