!function(){function e(e){return e&&e.__esModule?e.default:e}var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},c=n.parcelRequire1827;null==c&&((c=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},n.parcelRequire1827=c),"function"!=typeof(t=window.Element.prototype).matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),o=0;n[o]&&n[o]!==t;)++o;return Boolean(n[o])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),n=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+n+'"]').classList.add("active"),t.classList.add("active")}))})),n.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))})),document.getElementById("toggel-btn").addEventListener("click",(function(){document.body.classList.contains("light")?(document.body.classList.remove("light"),localStorage.theme="dark"):(document.body.classList.add("light"),localStorage.theme="light")})),"light"===localStorage.theme&&document.body.classList.add("light");var a,i=c("bpxeT"),s=c("2TvXO"),l=c("cFGTe"),d=(i=c("bpxeT"),s=c("2TvXO"),new(0,(l=c("cFGTe")).RequestServer));function u(){return v.apply(this,arguments)}function v(){return(v=e(i)(e(s).mark((function t(){var n,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.movieGenre();case 3:n=e.sent,o=n.data.genres,a=o.reduce((function(e,t){var n=t.id,o=t.name;return e[n]=o,e}),{}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function m(e){return e.map((function(e){var t,n=e.poster_path,o=e.original_title,r=void 0===o?"":o,c=e.genre_ids,i=e.overview,s=void 0===i?"":i,l=e.release_date,d=void 0===l?"":l,u=e.vote_average,v=void 0===u?"":u,m=e.id;t=d?d.substring(0,4):"no date";var p="https://image.tmdb.org/t/p/w500".concat(n);n||(p="https://picsum.photos/500/750");var f,h,g=v.toFixed(1);return'<li class="card__item list" id="'.concat(m,"\">\n            <img src='").concat(p,'\' loading="lazy" alt="').concat(s,'" class="card__img" />\n            <div class="container-info">\n            <h2 class="card__title">').concat(r,'</h2>\n            <p class="card__desc">').concat((f=c,h=f.map((function(e){return a[e]})),h.length>2?h.splice(2):0===h.length&&h.push("no genres"),h).join(", ")," | ").concat(t,'</p>\n            <p class="card__rating">').concat(g,"</p>\n            </div>\n            </li>")})).join("")}var p={cardContainer:document.querySelector(".card")},f=new(0,l.RequestServer);function h(){return(h=e(i)(e(s).mark((function t(){var n,o,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:return e.sent,e.next=6,f.trendingWeek();case 6:n=e.sent,o=n.data.results,r=m(o),p.cardContainer.innerHTML=r,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){h.apply(this,arguments)}()}();
//# sourceMappingURL=catalog.b4b3892d.js.map
