!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequire1827;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},t.parcelRequire1827=a),a("5xtVg"),a("3VTKu");var c=a("bpxeT"),s=a("2TvXO"),o=a("cFGTe"),u=a("1KhuP"),i=a("3qwTJ"),l={cardContainer:document.querySelector(".card")},d=new(0,o.RequestServer);function f(){return(f=e(c)(e(s).mark((function t(){var r,n,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.requestGenre)();case 3:return e.sent,e.next=6,d.trendingWeek();case 6:r=e.sent,n=r.data.results,a=(0,u.markup)(n),l.cardContainer.innerHTML=a,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){f.apply(this,arguments)}(),a("gVa74");c=a("bpxeT"),s=a("2TvXO"),u=a("1KhuP");var h,p=new(0,(o=a("cFGTe")).RequestServer),v=document.querySelector("#catalog-search-form"),m=document.querySelector("#catalog-search-input"),g=document.querySelector("#catalog-year-select"),y=document.querySelector("#catalog-genre-select"),w=document.querySelector("#catalog-country-select"),x=document.querySelector("#catalog-list"),q=document.querySelector("#catalog-not-found-message"),L=document.querySelector("#catalog-error-message"),S={searchQuery:void 0,year:void 0,genre:void 0,country:void 0},T={hideClassName:"catalog__list--hidden",show:function(){x.classList.remove(this.hideClassName)},hide:function(){x.classList.add(this.hideClassName)}},C={hideClassName:"catalog__message--hidden",show:function(){q.classList.remove(this.hideClassName)},hide:function(){q.classList.add(this.hideClassName)}},_={hideClassName:"catalog__message--hidden",show:function(){L.classList.remove(this.hideClassName)},hide:function(){L.classList.add(this.hideClassName)}},N=function(e,t,r){var n=document.createElement("option");n.value=t,n.innerHTML=null!=r?r:t,e.append(n)},k=(h=e(c)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.movieGenre();case 2:e.sent.data.genres.forEach((function(e){return N(y,e.id,e.name)}));case 4:case"end":return e.stop()}}),t)}))),function(){return h.apply(this,arguments)}),b=function(e){var t=e.searchQuery,r=e.year,n=e.genre,a=e.country,c="";return t&&(c+=t),r&&(c+="&year=".concat(r)),n&&(c+="&genre=".concat(n)),a&&(c+="&country=".concat(a)),c},M=function(){var t=e(c)(e(s).mark((function t(r){var n,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=b(r),e.next=4,p.searchMovies(n);case 4:return a=e.sent,e.abrupt("return",a.data.results);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),T.hide(),_.show();case 13:case"end":return e.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=e(c)(e(s).mark((function t(r){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.length?(n=(0,u.markup)(r),_.hide(),C.hide(),x.innerHTML=n,T.show()):(T.hide(),C.show());case 1:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=(function(){var t=e(c)(e(s).mark((function t(r){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.target.dataset.page,e.next=3,M();case 3:return n=e.sent,e.next=6,E(n);case 6:case"end":return e.stop()}}),t)})))}(),function(){var t=e(c)(e(s).mark((function t(r){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),S={searchQuery:m.value,year:document.querySelector("#catalog-year-select").value,genre:document.querySelector("#catalog-genre-select").value,country:document.querySelector("#catalog-country-select").value},e.next=4,M(S);case 4:n=e.sent,t=void 0,t="catalog__search-form-input--hidden",g.classList.remove(t),y.classList.remove(t),w.classList.remove(t),E(n);case 7:case"end":return e.stop()}var t}),t)})));return function(e){return t.apply(this,arguments)}}());!function(){for(var e=(new Date).getFullYear();e>=2e3;e--)N(g,e)}(),k(),v.addEventListener("submit",O)}();
//# sourceMappingURL=catalog.ced3b4af.js.map
