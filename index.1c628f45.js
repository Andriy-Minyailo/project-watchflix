!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire1827;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequire1827=o);var c=o("bpxeT"),i=o("2TvXO"),a=new(0,(d=o("cFGTe")).RequestServer);function u(){return(u=e(c)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.trendingDay();case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){u.apply(this,arguments)}(),o("5xtVg"),o("3VTKu"),function(){var e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu");function r(){e.classList.toggle("visually-hidden")}t.addEventListener("click",r),n.addEventListener("click",r)}(),o("gVa74"),o("lPfiu");c=o("bpxeT"),i=o("2TvXO");var s,l,d=o("cFGTe"),p=o("UL92Z"),m=(o("UL92Z"),o("UL92Z"),p=o("UL92Z"),document.querySelector("#upcoming-loading-message")),v=document.querySelector("#upcoming-no-data-message"),f=document.querySelector("#upcoming-error-message"),g=document.querySelector("#upcoming-movie"),x=document.querySelector("#upcoming-remind-btn"),_=new(0,d.RequestServer),y={addText:"Remind me",removeText:"Delete from my library",localMarkup:"",currentStateButton:!0},h=(l=e(c)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.newFilms();case 3:return n=e.sent,e.next=6,S(n);case 6:T(),q(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),T(),L();case 15:case"end":return e.stop()}}),t,null,[[0,10]])}))),function(){return l.apply(this,arguments)}),S=function(){var t=e(c)(e(i).mark((function t(n){var r,o,c,a,u,s,l,d,p,m,v,f,g,x,_,h,S,L,q;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.data.results,o=r.length){e.next=6;break}return T(),w(),e.abrupt("return");case 6:return c=r[Math.round(Math.random()*(o-1))],console.log(c.id),O(c.original_title),B(c.backdrop_path),b(c.release_date),k(c.vote_average,c.vote_count),M(c.popularity),e.next=15,E(c);case 15:I(c.overview),a=c.poster_path,u=c.original_title,s=void 0===u?"":u,l=c.overview,d=void 0===l?"":l,p=c.release_date,m=void 0===p?"":p,v=c.vote_average,f=void 0===v?"":v,F(g=c.id),x=document.querySelector("#upcoming-movie-genre"),_=x.innerText,h=_.split(",").slice(0,2),S=m?m.substring(0,4):"no date",L="https://image.tmdb.org/t/p/w500".concat(a),a||(L="https://picsum.photos/500/750"),q=f.toFixed(1),y.localMarkup={id:g,str:"<img src='".concat(L,'\' loading="lazy" alt="').concat(d,'" class="card__img" />\n            <div class="container-info">\n            <h2 class="card__title">').concat(s,'</h2>\n            <p class="card__desc">').concat(h," | ").concat(S,'</p>\n            <p class="card__rating">').concat(q,"</p>\n            </div>")},console.log(y.localMarkup);case 28:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){return m.classList.add("upcoming__status-message--hidden")},w=function(){return v.classList.remove("upcoming__status-message--hidden")},L=function(){return f.classList.remove("upcoming__status-message--hidden")},q=function(){g.classList.remove("upcoming__movie--hidden")},b=function(e){var t=document.querySelector("#upcoming-movie-release-date"),n=new Date(e).toLocaleDateString().replace(/\//g,".");t.innerText=n},k=function(e,t){var n=document.querySelector("#upcoming-vote-average"),r=document.querySelector("#upcoming-vote-count");n.innerText=e,r.innerText=t},M=function(e){document.querySelector("#upcoming-movie-popularity").innerText=e.toFixed(1)},E=function(){var t=e(c)(e(i).mark((function t(n){var r,o,c,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector("#upcoming-movie-genre"),e.next=3,_.movieGenre();case 3:o=e.sent,c=o?n.genre_ids.map((function(e){return o.data.genres.find((function(t){return t.id===e}))})):[],a=c.map((function(e){return e.name})).join(", "),r.innerText=a||"-";case 7:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(e){document.querySelector("#upcoming-movie-about").innerText=e},O=function(e){document.querySelector("#upcoming-movie-title").innerText=e},B=function(){var t=e(c)(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#upcoming-movie-backdrop").src="https://image.tmdb.org/t/p/original".concat(n);case 2:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function F(e){var t=(0,p.getMovieList)(p.KEY_MOVIE_LIST);if(!t)return x.textContent=y.addText,void(y.currentStateButton=!0);-1!==(s=t.findIndex((function(t){return t.id===e})))?(x.textContent=y.removeText,y.currentStateButton=!1):(x.textContent=y.addText,y.currentStateButton=!0)}h(),console.log(undefined),x&&x.addEventListener("click",(function(e){console.log(y.currentStateButton),y.currentStateButton?((0,p.loadMoveList)(y.localMarkup),y.currentStateButton=!1,x.textContent=y.removeText,console.log("add")):(!function(e){var t=(0,p.getMovieList)(p.KEY_MOVIE_LIST);if(1===t.length)return void localStorage.removeItem(p.KEY_MOVIE_LIST);t.splice(e,1),(0,p.saveMovieList)(p.KEY_MOVIE_LIST,t)}(s),y.currentStateButton=!0,x.textContent=y.addText,console.log("remove"))})),o("cbP8w"),o("7F1pg")}();
//# sourceMappingURL=index.1c628f45.js.map
