function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequire1827;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequire1827=i),i.register("bTcpz",(function(e,t){var o;"function"!=typeof(o=window.Element.prototype).matches&&(o.matches=o.msMatchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),"function"!=typeof o.closest&&(o.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),o=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+o+'"]').classList.add("active"),t.classList.add("active")}))})),o.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}))})),i.register("hYpm4",(function(e,t){let o=document.querySelector(".switcher"),n=localStorage.getItem("isLight");"true"===n&&document.body.classList.add("light"),o.onclick=function(){document.body.classList.toggle("light"),n=document.body.classList.contains("light"),localStorage.setItem("isLight",n)};var i=window.location.href;document.querySelectorAll(".header__nav-link, .mobile-menu__link").forEach((function(e){e.href===i&&e.classList.add("link__current")}))})),i.register("31u3U",(function(t,o){e(t.exports,"KEY_MOVIE_LIST",(function(){return n})),e(t.exports,"loadMoveList",(function(){return i})),e(t.exports,"getMovieList",(function(){return c})),e(t.exports,"saveMovieList",(function(){return r}));const n="movieList";function i(e){const t=c(n);console.log(t),t?(t.push(e),r(n,t)):r(n,[e])}function r(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}function c(e){try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.log(e)}}})),i.register("2Qiwp",(function(t,o){e(t.exports,"checkLocalStorage",(function(){return d}));var n=i("31u3U"),r=(n=i("31u3U"),i("g3gSb")),c=i("A9g9H"),s=i("jMagb");const a={movieContainer:document.querySelector(".card"),moviBase:document.querySelector("#localBase"),loadMoreButton:document.querySelector(".load-more")},l=new(0,s.LoadMoreButton)({isHiden:!0,active:!1,buttonAdress:a.loadMoreButton});let u;function d(e){const t=(0,n.getMovieList)(e);if(console.log(t),a.moviBase)if(void 0!==t){u=t.length;const e=t.slice(0,12);u>12?l.buttonState({isHiden:!1,active:!0}):l.buttonState({isHiden:!0,active:!1}),a.moviBase.innerHTML="",a.movieContainer.innerHTML=(0,c.markupLocal)(e)}else a.movieContainer.innerHTML="",a.moviBase.innerHTML=r.baseLocalMarkup}d(n.KEY_MOVIE_LIST),l.active&&a.loadMoreButton.addEventListener("click",(function e(){const t=(0,n.getMovieList)(n.KEY_MOVIE_LIST);let o=12,i=24;const r=t.slice(o,i);a.movieContainer.insertAdjacentHTML("beforeend",(0,c.markupLocal)(r)),o+=12,i+=12,u-=12,console.log(u),u<12&&(l.buttonState({isHiden:!0,active:!1}),a.loadMoreButton.removeEventListener("click",e))}))})),i.register("g3gSb",(function(t,o){e(t.exports,"baseLocalMarkup",(function(){return n}));const n='<div class="not-found__container">\n      <div class="not-found__text">\n        <ul class="not-found__text-ul">\n          <li class="not-found__text-li">OOPS...</li>\n          <li class="not-found__text-li">We are very sorry!</li>\n          <li class="not-found__text-li">\n            You don’t have any movies at your library.\n          </li>\n        </ul>\n      </div>\n      <button class="search-movie-btn" id="search-movie-btn">\n        <a href="./catalog.html" class="search-movie-btn__text">Search movie</a>\n      </button>\n    </div>'})),i.register("A9g9H",(function(t,o){function n(e){return e.map((e=>`<li class="card__item list" id="${e.id}">${e.str}</li>`)).join("")}e(t.exports,"markupLocal",(function(){return n}))})),i.register("jMagb",(function(t,o){e(t.exports,"LoadMoreButton",(function(){return n}));class n{constructor({isHiden:e,active:t,buttonAdress:o}){this.isHiden=e,this.active=t,this.buttonAdress=o}buttonState({isHiden:e=this.isHiden,active:t=this.active}){e?this.buttonAdress.classList.add("visually-hidden"):this.buttonAdress.classList.remove("visually-hidden"),this.active=!!t}}})),i.register("jIklc",(function(e,t){i("31u3U"),i("31u3U"),i("31u3U"),i("31u3U"),i("2Qiwp");document.querySelector(".card"),document.querySelector("#modalCardInfo"),document.querySelector("#btnModalInfo")}));
//# sourceMappingURL=myLibrary.d97b3511.js.map
