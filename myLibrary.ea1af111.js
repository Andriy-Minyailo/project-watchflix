!function(){function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=o.parcelRequire1827;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},o.parcelRequire1827=r),r.register("5xtVg",(function(e,t){var o;"function"!=typeof(o=window.Element.prototype).matches&&(o.matches=o.msMatchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),n=0;o[n]&&o[n]!==t;)++n;return Boolean(o[n])}),"function"!=typeof o.closest&&(o.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),o=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var o=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+o+'"]').classList.add("active"),t.classList.add("active")}))})),o.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}))})),r.register("3VTKu",(function(e,t){var o=document.getElementById("toggel-btn"),n=document.getElementById("toggel-svg");o.addEventListener("click",(function(){document.body.classList.contains("light")?(document.body.classList.remove("light"),n.use="./svg/symbol-defs.svg#icon-sun",localStorage.theme="dark"):(document.body.classList.add("light"),n.use="./svg/symbol-defs.svg#icon-moon",localStorage.theme="light")})),"light"===localStorage.theme&&(document.body.classList.add("light"),n.use="./svg/symbol-defs.svg#icon-moon")})),r.register("UL92Z",(function(t,o){e(t.exports,"KEY_MOVIE_LIST",(function(){return n})),e(t.exports,"loadMoveList",(function(){return i})),e(t.exports,"getMovieList",(function(){return c})),e(t.exports,"saveMovieList",(function(){return r}));var n="movieList";function i(e){var t=c(n);console.log(t),t?(t.push(e),r(n,t)):r(n,[e])}function r(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}}function c(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.log(e)}}})),r.register("cPtET",(function(t,o){e(t.exports,"checkLocalStorage",(function(){return d}));var n,i=r("UL92Z"),c=(i=r("UL92Z"),r("c2zg9")),s=r("g6bES"),a=r("50r4O"),l={movieContainer:document.querySelector(".card"),moviBase:document.querySelector("#localBase"),loadMoreButton:document.querySelector(".load-more")},u=new(0,a.LoadMoreButton)({isHiden:!0,active:!1,buttonAdress:l.loadMoreButton});function d(e){var t=(0,i.getMovieList)(e);if(console.log(t),l.moviBase)if(void 0!==t){n=t.length;var o=t.slice(0,12);n>12?u.buttonState({isHiden:!1,active:!0}):u.buttonState({isHiden:!0,active:!1}),l.moviBase.innerHTML="",l.movieContainer.innerHTML=(0,s.markupLocal)(o)}else l.movieContainer.innerHTML="",l.moviBase.innerHTML=c.baseLocalMarkup}d(i.KEY_MOVIE_LIST),u.active&&l.loadMoreButton.addEventListener("click",(function e(){var t=(0,i.getMovieList)(i.KEY_MOVIE_LIST),o=12,r=24,c=t.slice(o,r);l.movieContainer.insertAdjacentHTML("beforeend",(0,s.markupLocal)(c)),o+=12,r+=12,n-=12,console.log(n),n<12&&(u.buttonState({isHiden:!0,active:!1}),l.loadMoreButton.removeEventListener("click",e))}))})),r.register("c2zg9",(function(t,o){e(t.exports,"baseLocalMarkup",(function(){return n}));var n='<div class="not-found__container">\n      <div class="not-found__text">\n        <ul class="not-found__text-ul">\n          <li class="not-found__text-li">OOPS...</li>\n          <li class="not-found__text-li">We are very sorry!</li>\n          <li class="not-found__text-li">\n            You don’t have any movies at your library.\n          </li>\n        </ul>\n      </div>\n      <button class="search-movie-btn" id="search-movie-btn">\n        <a href="./catalog.html" class="search-movie-btn__text">Search movie</a>\n      </button>\n    </div>'})),r.register("g6bES",(function(t,o){function n(e){return e.map((function(e){return'<li class="card__item list" id="'.concat(e.id,'">').concat(e.str,"</li>")})).join("")}e(t.exports,"markupLocal",(function(){return n}))})),r.register("50r4O",(function(o,n){e(o.exports,"LoadMoreButton",(function(){return s}));var i=r("8MBJY"),c=r("a2hTj"),s=function(){"use strict";function e(o){var n=o.isHiden,r=o.active,c=o.buttonAdress;t(i)(this,e),this.isHiden=n,this.active=r,this.buttonAdress=c}return t(c)(e,[{key:"buttonState",value:function(e){var t=e.isHiden,o=void 0===t?this.isHiden:t,n=e.active,i=void 0===n?this.active:n;o?this.buttonAdress.classList.add("visually-hidden"):this.buttonAdress.classList.remove("visually-hidden"),this.active=!!i}}]),e}()})),r.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),r.register("a2hTj",(function(e,t){"use strict";function o(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t&&o(e.prototype,t);n&&o(e,n);return e}})),r.register("cbP8w",(function(e,t){r("UL92Z"),r("UL92Z"),r("UL92Z"),r("UL92Z"),r("cPtET"),document.querySelector(".card"),document.querySelector("#modalCardInfo"),document.querySelector("#btnModalInfo")}))}();
//# sourceMappingURL=myLibrary.ea1af111.js.map
