!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire1827;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequire1827=o);var c,a=o("bpxeT"),u=o("2TvXO"),s=new(0,(m=o("cFGTe")).RequestServer);function i(){return(i=e(a)(e(u).mark((function t(){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.trendingDay();case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){i.apply(this,arguments)}(),"function"!=typeof(c=window.Element.prototype).matches&&(c.matches=c.msMatchesSelector||c.mozMatchesSelector||c.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),r=0;n[r]&&n[r]!==t;)++r;return Boolean(n[r])}),"function"!=typeof c.closest&&(c.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-open-modal"),t=document.querySelector(".js-overlay-modal"),n=document.querySelectorAll(".js-modal-close");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=this.getAttribute("data-modal");document.querySelector('.modal[data-modal="'+n+'"]').classList.add("active"),t.classList.add("active")}))})),n.forEach((function(e){e.addEventListener("click",(function(e){this.closest(".modal").classList.remove("active"),t.classList.remove("active")}))})),document.body.addEventListener("keyup",(function(e){27==e.keyCode&&(document.querySelector(".modal.active").classList.remove("active"),document.querySelector(".overlay").classList.remove("active"))}),!1),t.addEventListener("click",(function(){document.querySelector(".modal.active").classList.remove("active"),this.classList.remove("active")}))}));var l=document.getElementById("toggel-btn"),d=document.getElementById("toggel-svg");l.addEventListener("click",(function(){document.body.classList.contains("light")?(document.body.classList.remove("light"),d.use="./svg/symbol-defs.svg#icon-sun",localStorage.theme="dark"):(document.body.classList.add("light"),d.use="./svg/symbol-defs.svg#icon-moon",localStorage.theme="light")})),"light"===localStorage.theme&&(document.body.classList.add("light"),d.use="./svg/symbol-defs.svg#icon-moon"),function(){var e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu");function r(){e.classList.toggle("visually-hidden")}t.addEventListener("click",r),n.addEventListener("click",r)}(),o("gVa74");a=o("bpxeT"),u=o("2TvXO");var m=o("cFGTe"),v=o("1KhuP"),p=o("3qwTJ"),f={weeklyCard:document.querySelector(".card")},g=new(0,m.RequestServer);function y(){return(y=e(a)(e(u).mark((function t(){var n,r,o;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.requestGenre)();case 3:return e.sent,e.next=6,g.trendingWeek();case 6:n=e.sent,r=n.data.results,o=(0,v.markup)(r.slice(0,3)),f.weeklyCard.innerHTML=o,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}!function(){y.apply(this,arguments)}();a=o("bpxeT"),u=o("2TvXO"),m=o("cFGTe");var h,S=document.querySelector("#upcoming-loading-message"),x=document.querySelector("#upcoming-no-data-message"),q=document.querySelector("#upcoming-error-message"),w=document.querySelector("#upcoming-movie"),L=new(0,m.RequestServer),b=(h=e(a)(e(u).mark((function t(){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.newFilms();case 3:return n=e.sent,e.next=6,k(n);case 6:T(),M(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),T(),E();case 15:case"end":return e.stop()}}),t,null,[[0,10]])}))),function(){return h.apply(this,arguments)}),k=function(){var t=e(a)(e(u).mark((function t(n){var r,o,c;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.data.results,o=r.length){e.next=6;break}return T(),_(),e.abrupt("return");case 6:return c=r[Math.round(Math.random()*(o-1))],G(c.original_title),R(c.backdrop_path),D(c.release_date),j(c.vote_average,c.vote_count),O(c.popularity),e.next=14,F(c);case 14:C(c.overview);case 15:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){return S.classList.add("upcoming__status-message--hidden")},_=function(){return x.classList.remove("upcoming__status-message--hidden")},E=function(){return q.classList.remove("upcoming__status-message--hidden")},M=function(){w.classList.remove("upcoming__movie--hidden")},D=function(e){var t=document.querySelector("#upcoming-movie-release-date"),n=new Date(e).toLocaleDateString().replace(/\//g,".");t.innerText=n},j=function(e,t){var n=document.querySelector("#upcoming-vote-average"),r=document.querySelector("#upcoming-vote-count");n.innerText=e,r.innerText=t},O=function(e){document.querySelector("#upcoming-movie-popularity").innerText=e.toFixed(1)},F=function(){var t=e(a)(e(u).mark((function t(n){var r,o,c,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.querySelector("#upcoming-movie-genre"),e.next=3,L.movieGenre();case 3:o=e.sent,c=o?n.genre_ids.map((function(e){return o.data.genres.find((function(t){return t.id===e}))})):[],a=c.map((function(e){return e.name})).join(", "),r.innerText=a||"-";case 7:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(e){document.querySelector("#upcoming-movie-about").innerText=e},G=function(e){document.querySelector("#upcoming-movie-title").innerText=e},R=function(){var t=e(a)(e(u).mark((function t(n){return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#upcoming-movie-backdrop").src="https://image.tmdb.org/t/p/original".concat(n);case 2:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();b()}();
//# sourceMappingURL=index.6334da6a.js.map
