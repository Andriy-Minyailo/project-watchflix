function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire1827;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire1827=i),i.register("kyEFX",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("eEHR3",(function(e,t){var n=i("hY6V0"),r=i("eK0aa"),o=i("OcCik");const a={hero:document.getElementById("hero")},c=new(0,n.RequestServer);!async function(){try{const e=await c.trendingDay(),{results:t}=e.data,n=t,i=(0,r.markupHero)(n);a.hero.innerHTML=i,(0,o.applyWatchTraileListener)();const s=document.getElementById("toggel-btn"),l=document.querySelector(".hero__discription"),u=document.querySelector(".hero__title"),d=document.querySelector(".hero__text");s.addEventListener("click",(()=>{l.classList.toggle("hero__discription-light"),u.classList.toggle("hero__title-light"),d.classList.toggle("hero__text-light")}))}catch(e){console.log(e)}}()})),i.register("eK0aa",(function(n,r){e(n.exports,"markupHero",(function(){return a}));var o=i("i4WMq");function a(e){let n=e[Math.round(Math.random()*(e.length-1))],r="";n||(n={original_title:"Letâ€™s Make Your Own Cinema",overview:"Is a guide to creating a personalized movie theater experience. \n        You'll need a projector, screen, and speakers. Decorate your space, choose your \n        films, and stock up on snacks for the full experience.",vote_average:"",id:""},r=t(o));const{backdrop_path:i,original_title:a="",overview:c="",vote_average:s="",id:l}=n;return r=`https://image.tmdb.org/t/p/original${i}`,`<div class="hero__discription">\n\n            <h2 class="hero__title">${a}</h2>\n            <p class="hero__rating">${s}</p>\n            <p class="hero__text">${c}</p>\n            <button id="watch-trailter__btn" class="hero__btn watch-trailer-dark-theme" data-id="${l}" type="button">Watch trailer</button>\n            <div id="swiper" class="tui-pagination"></div>\n            </div>\n            <div class="hero__backgr" id="${l}">\n            <img src='${r}' loading="lazy" alt="${c}" class="hero__img" />\n            </div>`}})),i.register("i4WMq",(function(e,t){e.exports=new URL(i("kyEFX").resolve("9t7bk"),import.meta.url).toString()})),i.register("OcCik",(function(t,n){e(t.exports,"applyWatchTraileListener",(function(){return l}));var r=i("hY6V0"),o=i("6pZM0");document.querySelector('[data-modal="modal-2"]');const a=new(0,r.RequestServer);async function c(e){try{const t=e.currentTarget.getAttribute("data-id"),n=await a.movieTrailer(t),{results:r}=n.data,i=r[0];if(i){const e=document.getElementsByClassName("modal-no-trailer")[0],t=document.getElementsByClassName("modal-trailer")[0];let n=`<iframe id="trailer-video-player" width="100%" height="100%" src="https://www.youtube.com/embed/${i.key}" title="${i.name}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>`;t.innerHTML=n,e.classList.add("is-hidden"),t.classList.remove("is-hidden")}}catch(e){console.log(e)}finally{(0,o.modalListener)("modal-2",s)}}function s(){const e=document.getElementsByClassName("modal-trailer")[0],t=document.getElementsByClassName("modal-no-trailer")[0];e.innerHTML="",t?.classList.remove("is-hidden"),e?.classList.add("is-hidden")}function l(){document.getElementById("watch-trailter__btn").addEventListener("click",c)}})),i.register("iagwT",(function(e,t){var n=i("hY6V0"),r=i("3huUq"),o=i("7o4ng");const a={weeklyCard:document.querySelector(".card")},c=new(0,n.RequestServer);!async function(){try{await(0,o.requestGenre)();const e=await c.trendingWeek(),{results:t}=e.data,n=(0,r.markup)(t.slice(0,3));a.weeklyCard.innerHTML=n}catch(e){console.log(e)}}()})),i.register("3huUq",(function(t,n){e(t.exports,"markup",(function(){return o}));var r=i("7o4ng");function o(e){return e.map((({poster_path:e,original_title:t="",genre_ids:n,overview:o="",release_date:i="",vote_average:a="",id:c})=>{let s;s=i?i.substring(0,4):"no date";let l=`https://image.tmdb.org/t/p/w500${e}`;e||(l="https://picsum.photos/500/750");let u=a.toFixed(1);return`<li class="card__item list" id="${c}">\n            <img src='${l}' loading="lazy" alt="${o}" class="card__img" />\n            <div class="container-info">\n            <h2 class="card__title">${t}</h2>\n            <p class="card__desc">${(0,r.nameGenres)(n).join(", ")} | ${s}</p>\n            <p class="card__rating">${u}</p>\n            </div>\n            </li>`})).join("")}})),i.register("7o4ng",(function(t,n){e(t.exports,"requestGenre",(function(){return a})),e(t.exports,"nameGenres",(function(){return c}));const r=new(0,i("hY6V0").RequestServer);let o;async function a(){try{const e=await r.movieGenre(),{genres:t}=e.data;o=t.reduce(((e,{id:t,name:n})=>(e[t]=n,e)),{})}catch(e){console.log(e)}}function c(e){const t=e.map((e=>o[e]));return t.length>2?t.splice(2):0===t.length&&t.push("no genres"),t}})),i.register("8GYDQ",(function(e,t){var n=i("hY6V0"),r=i("31u3U");i("31u3U"),i("31u3U"),r=i("31u3U");const o=document.querySelector("#upcoming-loading-message"),a=document.querySelector("#upcoming-no-data-message"),c=document.querySelector("#upcoming-error-message"),s=document.querySelector("#upcoming-movie"),l=document.querySelector("#upcoming-remind-btn"),u=new(0,n.RequestServer);let d;const m={addText:"Remind me",removeText:"Delete from my library",localMarkup:"",currentStateButton:!0},g=async e=>{const t=e.data.results,n=t.length;if(!n)return p(),void _();const o=t[Math.round(Math.random()*(n-1))];console.log(o.id),b(o.original_title),k(o.backdrop_path),f(o.release_date),y(o.vote_average,o.vote_count),w(o.popularity),await x(o),S(o.overview);const{poster_path:i,original_title:a="",overview:c="",release_date:s="",vote_average:u="",id:g}=o;!function(e){const t=(0,r.getMovieList)(r.KEY_MOVIE_LIST);if(!t)return l.textContent=m.addText,void(m.currentStateButton=!0);d=t.findIndex((t=>t.id===e)),-1!==d?(l.textContent=m.removeText,m.currentStateButton=!1):(l.textContent=m.addText,m.currentStateButton=!0)}(g);const v=document.querySelector("#upcoming-movie-genre").innerText.split(",").slice(0,2);let h;h=s?s.substring(0,4):"no date";let q=`https://image.tmdb.org/t/p/w500${i}`;i||(q="https://picsum.photos/500/750");let L=u.toFixed(1);m.localMarkup={id:g,str:`<img src='${q}' loading="lazy" alt="${c}" class="card__img" />\n            <div class="container-info">\n            <h2 class="card__title">${a}</h2>\n            <p class="card__desc">${v} | ${h}</p>\n            <p class="card__rating">${L}</p>\n            </div>`},console.log(m.localMarkup)},p=()=>o.classList.add("upcoming__status-message--hidden"),_=()=>a.classList.remove("upcoming__status-message--hidden"),v=()=>c.classList.remove("upcoming__status-message--hidden"),h=()=>{s.classList.remove("upcoming__movie--hidden")},f=e=>{const t=document.querySelector("#upcoming-movie-release-date"),n=new Date(e).toLocaleDateString().replace(/\//g,".");t.innerText=n},y=(e,t)=>{const n=document.querySelector("#upcoming-vote-average"),r=document.querySelector("#upcoming-vote-count");n.innerText=e,r.innerText=t},w=e=>{document.querySelector("#upcoming-movie-popularity").innerText=e.toFixed(1)},x=async e=>{const t=document.querySelector("#upcoming-movie-genre"),n=await u.movieGenre(),r=(n?e.genre_ids.map((e=>n.data.genres.find((t=>t.id===e)))):[]).map((e=>e.name)).join(", ");t.innerText=r||"-"},S=e=>{document.querySelector("#upcoming-movie-about").innerText=e},b=e=>{document.querySelector("#upcoming-movie-title").innerText=e},k=async e=>{document.querySelector("#upcoming-movie-backdrop").src=`https://image.tmdb.org/t/p/original${e}`};(async()=>{try{const e=await u.newFilms();await g(e),p(),h()}catch(e){console.error(e),p(),v()}})(),console.log(undefined),l.addEventListener("click",(function(e){console.log(m.currentStateButton),m.currentStateButton?((0,r.loadMoveList)(m.localMarkup),m.currentStateButton=!1,l.textContent=m.removeText,console.log("add")):(!function(e){const t=(0,r.getMovieList)(r.KEY_MOVIE_LIST);if(1===t.length)return void localStorage.removeItem(r.KEY_MOVIE_LIST);t.splice(e,1),(0,r.saveMovieList)(r.KEY_MOVIE_LIST,t)}(d),m.currentStateButton=!0,l.textContent=m.addText,console.log("remove"))}))})),i.register("8Yq9A",(function(e,t){})),i("kyEFX").register(JSON.parse('{"co8kk":"index.300aff6d.js","9t7bk":"desktop.a15d7519.jpg"}'));
//# sourceMappingURL=index.300aff6d.js.map
